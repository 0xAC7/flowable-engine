<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Eclipse Designer · Flowable Open Source Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Flowable comes with an Eclipse plugin, the Flowable Eclipse Designer, that can be used to graphically model, test and deploy BPMN 2.0 processes."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Eclipse Designer · Flowable Open Source Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://flowable.com/open-source/docs/"/><meta property="og:description" content="Flowable comes with an Eclipse plugin, the Flowable Eclipse Designer, that can be used to graphically model, test and deploy BPMN 2.0 processes."/><meta property="og:image" content="https://flowable.com/open-source/docs/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://flowable.com/open-source/docs/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/open-source/docs/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/open-source/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/open-source/docs/css/main.css"/><script src="/open-source/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/open-source/docs/"><img class="logo" src="/open-source/docs/img/flowable-oss-icon@2.png" alt="Flowable Open Source Documentation"/><h2 class="headerTitleWithLogo">Flowable Open Source Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/open-source/docs/oss-introduction" target="_self">Guides</a></li><li class=""><a href="/open-source/docs/all-javadocs" target="_self">Javadocs</a></li><li class=""><a href="https://flowable.com/open-source/" target="_self">Open source home</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>BPMN User Guide</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Flowable Open Source<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/open-source/docs/oss-introduction">Open Source Details</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">BPMN User Guide<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch02-GettingStarted">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch03-Configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch04-API">The Flowable API</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch05-Spring">Spring integration</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch05a-Spring-Boot">Spring Boot</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch06-Deployment">Deployment</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch07a-BPMN-Introduction">BPMN 2.0 Introduction</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch07b-BPMN-Constructs">BPMN 2.0 Constructs</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch08-Forms">Forms</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch09-ProcessInstanceMigration">Process Instance Migration (Experimental)</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch10-JPA">JPA</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch11-History">History</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch12-IDM">Identity management</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/open-source/docs/bpmn/ch13-Designer">Eclipse Designer</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch14-Applications">Flowable applications</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch15-REST">REST API</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch16-Cdi">CDI integration</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch17-Ldap">LDAP integration</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch18-Advanced">Advanced</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/bpmn/ch19-tooling">Tooling</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">CMMN User Guide<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/open-source/docs/cmmn/ch02-Configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/cmmn/ch03-API">The Flowable CMMN API</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/cmmn/ch04-Spring">Spring integration</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/cmmn/ch05-Deployment">Deployment</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/cmmn/ch06-cmmn">CMMN 1.1</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/cmmn/ch07-architecture">Architecture</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">DMN User Guide<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/open-source/docs/dmn/ch02-Configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/dmn/ch03-API">The Flowable DMN API</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/dmn/ch04-Spring">Spring integration</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/dmn/ch05-Deployment">Deployment</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/dmn/ch06-DMN-Introduction">DMN 1.1 Introduction</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/dmn/ch07-REST">REST API</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Forms User Guide<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/open-source/docs/form/ch02-Configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/form/ch03-API">The Flowable Form API</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/form/ch04-Spring">Spring integration</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/form/ch05-Deployment">Deployment</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/form/ch06-Form-Introduction">Form Introduction</a></li><li class="navListItem"><a class="navItem" href="/open-source/docs/form/ch07-REST">REST API</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Migration from v5<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/open-source/docs/migration">Flowable Migration Guide : Flowable or Activiti v5 to Flowable V6</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Disclaimer<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/open-source/docs/disclaimer">Disclaimer</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Eclipse Designer</h1></header><article><div><span><p>Flowable comes with an Eclipse plugin, the Flowable Eclipse Designer, that can be used to graphically model, test and deploy BPMN 2.0 processes.</p>
<h2><a class="anchor" aria-hidden="true" id="installation"></a><a href="#installation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<p>The following installation instructions are verified on <a href="http://www.eclipse.org/downloads/">Eclipse Mars and Neon</a>.</p>
<p>Go to <strong>Help → Install New Software</strong>. In the following panel, click on <em>Add</em> button and fill in the following fields:</p>
<ul>
<li><p><strong>Name:</strong> Flowable BPMN 2.0 designer</p></li>
<li><p><strong>Location:</strong> <a href="http://www.flowable.org/designer/update/">http://www.flowable.org/designer/update/</a></p></li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.add.update.site.png" alt="designer.add.update.site"></p>
<p>Make sure the <strong>&quot;Contact all updates sites..&quot;</strong> checkbox is <strong>checked</strong>, because all the necessary plugins will then be downloaded by Eclipse.</p>
<h2><a class="anchor" aria-hidden="true" id="flowable-designer-editor-features"></a><a href="#flowable-designer-editor-features" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flowable Designer editor features</h2>
<ul>
<li>Create Flowable projects and diagrams.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.create.flowable.project.png" alt="designer.create.flowable.project"></p>
<ul>
<li>The Flowable Designer creates a .bpmn file when creating a new Flowable diagram. When opened with the Flowable Diagram Editor view this will provide a graphical modeling canvas and palette. The same file can however be opened with an XML editor and it then shows the BPMN 2.0 XML elements of the process definition. So, the Flowable Designer works with a single file for both the graphical diagram as well as the BPMN 2.0 XML. Note that in old releases, the .bpmn extension was not supported as a deployment artifact for a process definition. Therefore, the &quot;create deployment artifacts&quot; feature of the Flowable Designer can be used to generate a BAR file containing a .bpmn20.xml file with the content of the .bpmn file. You can also do a quick file rename yourself. Also note that you can open a .bpmn20.xml file with the Flowable Diagram Editor view as well.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.bpmn.file.png" alt="designer.bpmn.file"></p>
<ul>
<li>BPMN 2.0 XML files can be imported into the Flowable Designer and a diagram will be displayed. Just copy the BPMN 2.0 XML file to your project and open the file with the Flowable Diagram Editor view. The Flowable Designer uses the BPMN DI information of the file to create the diagram. If you have a BPMN 2.0 XML file without BPMN DI information, the Flowable BPMN autolayout module is used to created a graphical representation of the process.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.open.importedfile.png" alt="designer.open.importedfile"></p>
<ul>
<li>For deployment, a BAR file and optionally a JAR file is created by the Flowable Designer by right-clicking on a Flowable project in the package explorer and choosing the <em>Create deployment artifacts</em> option at the bottom of the popup menu. For more information about the deployment functionality of the Designer look at the <a href="/open-source/docs/bpmn/ch13-Designer#flowable-designer-deployment-features">deployment</a> section.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.create.deployment.png" alt="designer.create.deployment"></p>
<ul>
<li>Generate a unit test (right click on a BPMN 2.0 XML file in the package explorer and select <em>generate unit test</em>) A unit test is generated with a Flowable configuration that runs on an embedded H2 database. You can now run the unit test to test your process definition.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.unittest.generate.png" alt="designer.unittest.generate"></p>
<ul>
<li>The Flowable project is generated as a Maven project. To configure the dependencies you need to run <em>mvn eclipse:eclipse</em> and the Maven dependencies will be configured as expected. Note that for process design Maven dependencies are not needed. They are only needed to run unit tests.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.project.maven.png" alt="designer.project.maven"></p>
<h2><a class="anchor" aria-hidden="true" id="flowable-designer-bpmn-features"></a><a href="#flowable-designer-bpmn-features" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flowable Designer BPMN features</h2>
<ul>
<li>Support for start none event, start error event, timer start event, end none event, end error event, sequence flow, parallel gateway, exclusive gateway, inclusive gateway, event gateway, embedded sub process, event sub process, call activity, pool, lane, script task, user task, service task, mail task, manual task, business rule task, receive task, timer boundary event, error boundary event, signal boundary event, timer catching event, signal catching event, signal throwing event, none throwing event and four Flowable specific elements (user, script, mail tasks and start event).</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.model.process.png" alt="designer.model.process"></p>
<ul>
<li>You can quickly change the type of a task by hovering over the element and choosing the new task type.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.model.quick.change.png" alt="designer.model.quick.change"></p>
<ul>
<li>You can quickly add new elements hovering over an element and choosing a new element type.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.model.quick.new.png" alt="designer.model.quick.new"></p>
<ul>
<li>Java class, expression or delegate expression configuration is supported for the Java service task. In addition, field extensions can be configured.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.servicetask.property.png" alt="designer.servicetask.property"></p>
<ul>
<li>Support for pools and lanes. Because Flowable reads different pools as different process definitions, it makes the most sense to use only one pool. If you use multiple pools, be aware that drawing sequence flows between the pools will result in problems when deploying the process in the Flowable engine. You can add as many lanes to a pool as you want.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.model.poolandlanes.png" alt="designer.model.poolandlanes"></p>
<ul>
<li>You can add labels to sequence flows by filling in the name property. You can position the labels yourself and the position is saved as part of the BPMN 2.0 XML DI information.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.model.labels.png" alt="designer.model.labels"></p>
<ul>
<li>Support for event sub processes.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.model.eventsubprocess.png" alt="designer.model.eventsubprocess"></p>
<ul>
<li>Support for expanded embedded sub processes. You can also add an embedded sub process in another embedded sub process.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.embeddedprocess.canvas.png" alt="designer.embeddedprocess.canvas"></p>
<ul>
<li>Support for timer boundary events on tasks and embedded sub processes. Although, the timer boundary event makes most sense when using it on a user task or an embedded sub process in the Flowable Designer.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.timerboundary.canvas.png" alt="designer.timerboundary.canvas"></p>
<ul>
<li>Support for additional Flowable extensions, such as the Mail task, the candidate configuration of User tasks and Script task configuration.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.mailtask.property.png" alt="designer.mailtask.property"></p>
<ul>
<li>Support for the Flowable execution and task listeners. You can also add field extensions for execution listeners.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.listener.configuration.png" alt="designer.listener.configuration"></p>
<ul>
<li>Support for conditions on sequence flows.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.sequence.condition.png" alt="designer.sequence.condition"></p>
<h2><a class="anchor" aria-hidden="true" id="flowable-designer-deployment-features"></a><a href="#flowable-designer-deployment-features" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flowable Designer deployment features</h2>
<p>Deploying process definitions and task forms on the Flowable engine is not hard. You need a BAR file containing the process definition BPMN 2.0 XML file and optionally task forms and an image of the process that can be viewed in the Flowable app. In the Flowable Designer it’s made very easy to create a BAR file. When you’ve finished your process implementation just right-click on your Flowable project in the package explorer and choose for the <strong>Create deployment artifacts</strong> option at the bottom of the popup menu.</p>
<p><img src="/open-source/docs/assets/bpmn/designer.create.deployment.png" alt="designer.create.deployment"></p>
<p>Then a deployment directory is created containing the BAR file and optionally a JAR file with the Java classes of your Flowable project.</p>
<p><img src="/open-source/docs/assets/bpmn/designer.deployment.dir.png" alt="designer.deployment.dir"></p>
<p>This file can now be uploaded to the Flowable engine using the deployments tab in Flowable Admin app, and you are ready to go.</p>
<p>When your project contains Java classes, the deployment is a bit more work. In this case, the <strong>Create deployment artifacts</strong> step in the Flowable Designer will also generate a JAR file containing the compiled classes. This JAR file must be deployed to the flowable-XXX/WEB-INF/lib directory in your Flowable Tomcat (or other container) installation directory. This makes the classes available on the classpath of the Flowable Engine.</p>
<h2><a class="anchor" aria-hidden="true" id="extending-flowable-designer"></a><a href="#extending-flowable-designer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extending Flowable Designer</h2>
<p>You can extend the default functionality offered by Flowable Designer. This section documents which extensions are available, how they can be used and provides some usage examples. Extending Flowable Designer is useful in cases where the default functionality doesn’t suit your needs, you require additional capabilities or have domain-specific requirements when modeling business processes. Extension of Flowable Designer falls into two distinct categories: extending the palette and extending output formats. Each of these extension types requires a specific approach and different technical expertise.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>Extending Flowable Designer requires technical knowledge and, more specifically, knowledge of programming in Java. Depending on the type of extension you want to create, you might also need to be familiar with Maven, Eclipse, OSGi, Eclipse extensions and SWT.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="customizing-the-palette"></a><a href="#customizing-the-palette" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Customizing the palette</h3>
<p>You can customize the palette that is offered to users when modeling processes. The palette is the collection of shapes that can be dragged onto the canvas in a process diagram and is displayed to the right-hand side of the canvas. As you can see in the default palette, the default shapes are grouped together (these are called &quot;drawers&quot;) for Events, Gateways and so on. There are two options built-in to Flowable Designer to customize the drawers and shapes in the palette:</p>
<ul>
<li><p>Adding your own shapes / nodes to existing or new drawers</p></li>
<li><p>Disabling any or all of the default BPMN 2.0 shapes offered by Flowable Designer, with the exception of the connection and selection tools</p></li>
</ul>
<p>In order to customize the palette, you create a JAR file that is needs to be added to every installation of Flowable Designer (more on <a href="/open-source/docs/bpmn/ch13-Designer#applying-your-extension-to-flowable-designer">how to do that</a> later). Such a JAR file is called an <em>extension</em>. By writing classes that are included in your extension, Flowable Designer understands which customizations you wish to make. In order for this to work, your classes should implement certain interfaces. There is an integration library available with those interfaces and base classes to extend, which you should add to your project’s classpath.</p>
<p>You can find the code examples listed below in source control with Flowable Designer. Take a look in the examples/money-tasks directory in the flowable-designer repository of Flowable’s <a href="https://github.com/flowable/flowable-designer/tree/master/examples">source code</a>.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>You can setup your project in whichever tool you prefer and build the JAR with the build tool of your choice. For the instructions below, a setup is assumed with Eclipse Mars or Neon, using Maven (3.x) as build tool, but any setup should enable you to create the same results.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="extension-setup-eclipsemaven"></a><a href="#extension-setup-eclipsemaven" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extension setup (Eclipse/Maven)</h4>
<p>Download and extract <a href="http://www.eclipse.org/downloads">Eclipse</a> (most recent versions should work) and a recent version (3.x) of <a href="http://maven.apache.org/download.html">Apache Maven</a>. If you use a 2.x version of Maven, you will run into problems when building your project, so make sure your version is up to date. We assume you are familiar with using basic features and the Java editor in Eclipse. It’s up to you whether you prefer to use Eclipse’s features for Maven or run Maven commands from a command prompt.</p>
<p>Create a new project in Eclipse. This can be a general project type. Create a pom.xml file at the root of the project to contain the Maven project setup. Also create folders for the src/main/java and src/main/resources folders, which are Maven conventions for your Java source files and resources respectively. Open the pom.xml file and add the following lines:</p>
<pre><code class="hljs">&lt;project
  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;

  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

  &lt;groupId&gt;org.acme&lt;/groupId&gt;
  &lt;artifactId&gt;money-tasks&lt;/artifactId&gt;
  &lt;version&gt;1.0.0&lt;/version&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;
  &lt;name&gt;Acme Corporation Money Tasks&lt;/name&gt;
...
&lt;/project&gt;
</code></pre>
<p>As you can see, this is just a basic pom.xml file that defines a groupId, artifactId and version for the project. We will create a customization that includes a single custom node for our money business.</p>
<p>Add the integration library to your project’s dependencies by including this dependency in your pom.xml file:</p>
<pre><code class="hljs">&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.flowable.designer&lt;/groupId&gt;
    &lt;artifactId&gt;org.flowable.designer.integration&lt;/artifactId&gt;
    &lt;version&gt;5.22.0&lt;/version&gt; &lt;!-- Use the current Flowable Designer version --&gt;
    &lt;scope&gt;compile&lt;/scope&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
...
&lt;repositories&gt;
  &lt;repository&gt;
      &lt;id&gt;Flowable&lt;/id&gt;
   &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre>
<p>Finally, in the pom.xml file, add the configuration for the maven-compiler-plugin so the Java source level is at least 1.5 (see snippet below). You will need this in order to use annotations. You can also include instructions for Maven to generate the JAR’s MANIFEST.MF file. This is not required, but you can use a specific property in the manifest to provide a name for your extension (this name may be shown at certain places in the designer and is primarily intended for future use if you have several extensions in the designer). If you wish to do so, include the following snippet in pom.xml:</p>
<pre><code class="hljs">&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
      &lt;configuration&gt;
        &lt;source&gt;1.8&lt;/source&gt;
        &lt;target&gt;1.8&lt;/target&gt;
        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;
        &lt;showWarnings&gt;true&lt;/showWarnings&gt;
        &lt;optimize&gt;true&lt;/optimize&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;
      &lt;version&gt;2.3.2&lt;/version&gt;
      &lt;configuration&gt;
        &lt;archive&gt;
          &lt;index&gt;true&lt;/index&gt;
          &lt;manifest&gt;
            &lt;addClasspath&gt;false&lt;/addClasspath&gt;
            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;
          &lt;/manifest&gt;
          &lt;manifestEntries&gt;
            &lt;FlowableDesigner-Extension-Name&gt;Acme Money&lt;/FlowableDesigner-Extension-Name&gt;
          &lt;/manifestEntries&gt;
        &lt;/archive&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;
</code></pre>
<p>The name for the extension is described by the FlowableDesigner-Extension-Name property. The only thing left to do now is tell Eclipse to setup the project according to the instructions in pom.xml. So open up a command shell and go to the root folder of your project in the Eclipse workspace. Then, execute the following Maven command:</p>
<pre><code class="hljs">mvn eclipse:eclipse
</code></pre>
<p>Wait until the build is successful. Refresh the project (use the project’s context menu (right-click) and select Refresh). You should now have the src/main/java and src/main/resources folders as source folders in the Eclipse project.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>You can, of course, also use the <a href="http://www.eclipse.org/m2e">m2eclipse</a> plugin and simply enable Maven dependency management from the context menu (right-click) of the project. Then choose Maven &gt; Update project configuration from the project’s context menu. That should setup the source folders as well.</p>
</blockquote>
<p>That’s it for the setup. Now you’re ready to start creating customizations to Flowable Designer!</p>
<h4><a class="anchor" aria-hidden="true" id="applying-your-extension-to-flowable-designer"></a><a href="#applying-your-extension-to-flowable-designer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Applying your extension to Flowable Designer</h4>
<p>You might be wondering how you can add your extension to Flowable Designer so your customizations are applied. These are the steps to do just that:
* Once you’ve created your extension JAR (for instance, by performing a mvn install in your project to build it with Maven), you need to transfer the extension to the computer where Flowable Designer is installed;
* Store the extension somewhere on the hard drive where it will be able to remain, and remember the location. <em>Note:</em> the location must be outside the Eclipse workspace of Flowable Designer - storing the extension inside the workspace will lead to the user getting a popup error message and the extensions being unavailable;
* Start Flowable Designer and from the menu, select Window &gt; Preferences or Eclipse &gt; Preferences
* In the preferences screen, type user as keyword. You should see an option to access the User Libraries in Eclipse in the Java section.</p>
<p><img src="/open-source/docs/assets/bpmn/designer.preferences.userlibraries.png" alt="designer.preferences.userlibraries"></p>
<ul>
<li>Select the User Libraries item and a tree view shows up to the right where you can add libraries. You should see the default group where you can add extensions to Flowable Designer (depending on your Eclipse installation, you might see several others as well).</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.preferences.userlibraries.flowable.empty.png" alt="designer.preferences.userlibraries.flowable.empty"></p>
<ul>
<li>Select the Flowable Designer Extensions group and click the Add JARs... or Add External JARs... button. Navigate to the folder where your extension is stored and select the extension file you want to add. After completing this, your preferences screen should show the extension as part of the Flowable Designer Extensions group, as shown below.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.preferences.userlibraries.flowable.moneytasks.png" alt="designer.preferences.userlibraries.flowable.moneytasks"></p>
<ul>
<li>Click the OK button to save and close the preferences dialog. The Flowable Designer Extensions group is automatically added to new Flowable projects you create. You can see the user library as an entry in the project’s tree in the Navigator or Package Explorer. If you already had Flowable projects in the workspace, you should also see the new extensions show up in the group. An example is shown below.</li>
</ul>
<p><img src="/open-source/docs/assets/bpmn/designer.userlibraries.project.png" alt="designer.userlibraries.project"></p>
<p>Diagrams you open will now have the shapes from the new extension in their palette (or shapes disabled, depending on the customizations in your extension). If you already had a diagram opened, close and reopen it to see the changes in the palette.</p>
<h4><a class="anchor" aria-hidden="true" id="adding-shapes-to-the-palette"></a><a href="#adding-shapes-to-the-palette" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding shapes to the palette</h4>
<p>With your project set up, you can now easily add shapes to the palette. Each shape you wish to add is represented by a class in your JAR. Take note that these classes are not the classes that will be used by the Flowable engine during runtime. In your extension you describe the properties that can be set in Flowable Designer for each shape. From these shapes, you can also define the runtime characteristics that should be used by the engine when a process instance reaches the node in the process. The runtime characteristics can use any of the options that Flowable supports for regular ServiceTasks. See <a href="/open-source/docs/bpmn/ch13-Designer#configuring-runtime-execution-of-custom-service-tasks">this section</a> for more details.</p>
<p>A shape’s class is a simple Java class, to which a number of annotations are added. The class should implement the CustomServiceTask interface, but you shouldn’t implement this interface yourself. Extend the AbstractCustomServiceTask base class instead (at the moment you MUST extend this class directly, so no abstract classes in between). In the Javadoc for that class you can find instructions on the defaults it provides and when you should override any of the methods it already implements. Overrides allow you to do things such as providing icons for the palette and in the shape on the canvas (these can be different) and specifying the base shape you want the node to have (activity, event, gateway).</p>
<pre><code class="hljs">/**
 * @author John Doe
 * @version 1
 * @since 1.0.0
 */
public class AcmeMoneyTask extends AbstractCustomServiceTask {
...
}
</code></pre>
<p>You will need to implement the getName() method to determine the name the node will have in the palette. You can also put the nodes in their own drawer and provide an icon. Override the appropriate methods from AbstractCustomServiceTask. If you want to provide an icon, make sure it’s in the src/main/resources package in your JAR and is about 16x16 pixels and in JPEG or PNG format. The path you supply is relative to that folder.</p>
<p>You can add properties to the shape by adding members to the class and annotating them with the @Property annotation like this:</p>
<pre><code class="hljs">@Property(type = PropertyType.TEXT, displayName = &quot;Account Number&quot;)
@Help(displayHelpShort = &quot;Provide an account number&quot;, displayHelpLong = HELP_ACCOUNT_NUMBER_LONG)
private String accountNumber;
</code></pre>
<p>There are several PropertyType values you can use, which are described in more detail in <a href="/open-source/docs/bpmn/ch13-Designer#property-types">this section</a>. You can make a field required by setting the required attribute to true. A message and red background will appear if the user doesn’t fill in the field.</p>
<p>If you want to fix the order of the various properties in your class as they appear in the property screen, you should specify the order attribute of the @Property annotation.</p>
<p>As you can see, there’s also a @Help annotation that’s used to provide the user some guidance when filling in the field. You can also use the @Help annotation on the class itself - this information is shown at the top of the property sheet presented to the user.</p>
<p>Below is the listing for further elaboration of the MoneyTask. A comment field has been added and you can see an icon is included for the node.</p>
<pre><code class="hljs">/**
 * @author John Doe
 * @version 1
 * @since 1.0.0
 */
@Runtime(javaDelegateClass = &quot;org.acme.runtime.AcmeMoneyJavaDelegation&quot;)
@Help(displayHelpShort = &quot;Creates a new account&quot;, displayHelpLong =
    &quot;Creates a new account using the account number specified&quot;)
public class AcmeMoneyTask extends AbstractCustomServiceTask {

  private static final String HELP_ACCOUNT_NUMBER_LONG =
      &quot;Provide a number that is suitable as an account number.&quot;;

  @Property(type = PropertyType.TEXT, displayName = &quot;Account Number&quot;, required = true)
  @Help(displayHelpShort = &quot;Provide an account number&quot;, displayHelpLong = HELP_ACCOUNT_NUMBER_LONG)
  private String accountNumber;

  @Property(type = PropertyType.MULTILINE_TEXT, displayName = &quot;Comments&quot;)
  @Help(displayHelpShort = &quot;Provide comments&quot;, displayHelpLong =
      &quot;You can add comments to the node to provide a brief description.&quot;)
  private String comments;

  @Override
  public String contributeToPaletteDrawer() {
    return &quot;Acme Corporation&quot;;
  }

  @Override
  public String getName() {
    return &quot;Money node&quot;;
  }

  @Override
  public String getSmallIconPath() {
    return &quot;icons/coins.png&quot;;
  }
}
</code></pre>
<p>If you extend Flowable Designer with this shape, the palette and corresponding node will look like this:</p>
<p><img src="/open-source/docs/assets/bpmn/designer.palette.add.money.png" alt="designer.palette.add.money"></p>
<p>The properties screen for the money task is shown below. Note the required message for the accountNumber field.</p>
<p><img src="/open-source/docs/assets/bpmn/designer.palette.add.money.properties.required.png" alt="designer.palette.add.money.properties.required"></p>
<p>Users can enter static text or use expressions that use process variables in the property fields when creating diagrams (for example, &quot;This little piggy went to ${piggyLocation}&quot;). Generally, this applies to text fields where users are free to enter any text. If you expect users to want to use expressions and you apply runtime behavior to your CustomServiceTask (using @Runtime), make sure to use Expression fields in the delegate class so the expressions are correctly resolved at runtime. More information on runtime behavior can be found in <a href="/open-source/docs/bpmn/ch13-Designer#configuring-runtime-execution-of-custom-service-tasks">this section</a>.</p>
<p>The help for fields is offered by the buttons to the right of each property. Clicking on the button shows a popup as displayed below.</p>
<p><img src="/open-source/docs/assets/bpmn/designer.palette.add.money.help.png" alt="designer.palette.add.money.help"></p>
<h5><a class="anchor" aria-hidden="true" id="configuring-runtime-execution-of-custom-service-tasks"></a><a href="#configuring-runtime-execution-of-custom-service-tasks" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuring runtime execution of Custom Service Tasks</h5>
<p>With your fields set up and your extension applied to Designer, users can configure the properties of the service task when modelling a process. In most cases, you will want to use these user-configured properties when the process is executed by Flowable. To do this, you must tell Flowable which class to instantiate when the process reaches your CustomServiceTask.</p>
<p>There is a special annotation for specifying the runtime characteristics of your CustomServiceTask, the @Runtime annotation. Here’s an example of how to use it:</p>
<pre><code class="hljs">@Runtime(javaDelegateClass = &quot;org.acme.runtime.AcmeMoneyJavaDelegation&quot;)
</code></pre>
<p>Your CustomServiceTask will result in a normal ServiceTask in the BPMN output of processes modeled with it. Flowable enables <a href="/open-source/docs/bpmn/ch07b-BPMN-Constructs#java-service-task">several ways</a> to define the runtime characteristics of ServiceTasks. Therefore, the @Runtime annotation can take one of three attributes, which match directly to the options Flowable provides, like this:</p>
<ul>
<li><p>javaDelegateClass maps to flowable:class in the BPMN output. Specify the fully qualified classname of a class that implements JavaDelegate.</p></li>
<li><p>expression maps to flowable:expression in the BPMN output. Specify an expression to a method to be executed, such as a method in a Spring Bean. You should <em>not</em> specify any @Property annotations on fields when using this option. For more information, see below.</p></li>
<li><p>javaDelegateExpression maps to flowable:delegateExpression in the BPMN output. Specify an expression to a class that implements JavaDelegate.</p></li>
</ul>
<p>The user’s property values will be injected into the runtime class if you provide members in the class for Flowable to inject into. The names should match the names of the members in your CustomServiceTask. For more information, consult <a href="/open-source/docs/bpmn/ch07b-BPMN-Constructs#field-injection">this part</a> of the userguide. Note that from version 5.11.0 of the Designer, you can use the Expression interface for dynamic field values. This means that the value of the property in the Flowable Designer must contain an expression, and this expression will then be injected into an Expression property in the JavaDelegate implementation class.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>You can use @Property annotations on members of your CustomServiceTask, but this will not work if you use @Runtime's expression attribute. The reason for this is that the expression you specify will be attempted to be resolved to a <em>method</em> by Flowable, not to a class. Therefore, no injection into a class will be performed. Any members marked with @Property will be ignored by Designer if you use expression in your @Runtime annotation. Designer will not render them as editable fields in the node’s property pane and will produce no output for the properties in the process' BPMN.</p>
</blockquote>
<blockquote>
<p><strong>Note</strong></p>
<p>Note that the runtime class shouldn’t be in your extension JAR, as it’s dependent on the Flowable libraries. Flowable needs to be able to find it at runtime, so it needs to be on the Flowable engine’s classpath.</p>
</blockquote>
<p>The examples project in Designer’s source tree contains examples of the different options for configuring @Runtime. Take a look in the money-tasks project for some starting points. The examples refer to delegate class examples that are in the money-delegates project.</p>
<h4><a class="anchor" aria-hidden="true" id="property-types"></a><a href="#property-types" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Property types</h4>
<p>This section describes the property types you can use for a CustomServiceTask by setting its type to a PropertyType value.</p>
<h5><a class="anchor" aria-hidden="true" id="propertytypetext"></a><a href="#propertytypetext" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PropertyType.TEXT</h5>
<p>Creates a single-line text field as shown below. Can be a required field and shows validation messages as a tooltip. Validation failures are displayed by changing the background of the field to a light red color.</p>
<p><img src="/open-source/docs/assets/bpmn/designer.property.text.invalid.png" alt="designer.property.text.invalid"></p>
<h5><a class="anchor" aria-hidden="true" id="propertytypemultiline_text"></a><a href="#propertytypemultiline_text" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PropertyType.MULTILINE_TEXT</h5>
<p>Creates a multiline text field as shown below (height is fixed at 80 pixels). Can be a required field and shows validation messages as a tooltip. Validation failures are displayed by changing the background of the field to a light red color.</p>
<p><img src="/open-source/docs/assets/bpmn/designer.property.multiline.text.invalid.png" alt="designer.property.multiline.text.invalid"></p>
<h5><a class="anchor" aria-hidden="true" id="propertytypeperiod"></a><a href="#propertytypeperiod" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PropertyType.PERIOD</h5>
<p>Creates a structured editor for specifying a period of time by editing amounts of each unit with a spinner control. The result is shown below. Can be a required field (which is interpreted such that not all values can be 0, so at least 1 part of the period must have a non-zero value) and shows validation messages as a tooltip. Validation failures are displayed by changing the background of the entire field to a light red color. The value of the field is stored as a string of the form 1y 2mo 3w 4d 5h 6m 7s, which represents 1 year, 2 months, 3 weeks, 4 days, 6 minutes and 7 seconds. The entire string is always stored, even if parts are 0.</p>
<p><img src="/open-source/docs/assets/bpmn/designer.property.period.png" alt="designer.property.period"></p>
<h5><a class="anchor" aria-hidden="true" id="propertytypeboolean_choice"></a><a href="#propertytypeboolean_choice" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PropertyType.BOOLEAN_CHOICE</h5>
<p>Creates a single checkbox control for boolean or toggle choices. Note that you can specify the required attribute on the Property annotation, but it will not be evaluated because that would leave the user without a choice whether to check the box or not. The value stored in the diagram is java.lang.Boolean.toString(boolean), which results in &quot;true&quot; or &quot;false&quot;.</p>
<p><img src="/open-source/docs/assets/bpmn/designer.property.boolean.choice.png" alt="designer.property.boolean.choice"></p>
<h5><a class="anchor" aria-hidden="true" id="propertytyperadio_choice"></a><a href="#propertytyperadio_choice" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PropertyType.RADIO_CHOICE</h5>
<p>Creates a group of radio buttons as shown below. Selection of any of the radio buttons is mutually exclusive with selection of any of the others (in other words, only one selection allowed). Can be a required field and shows validation messages as a tooltip. Validation failures are displayed by changing the background of the group to a light red color.</p>
<p>This property type expects the class member you have annotated to also have an accompanying @PropertyItems annotation (for an example, see below). Using this additional annotation, you can specify the list of items that should be offered in an array of Strings. Specify the items by adding two array entries for each item: first, the label to be shown; second, the value to be stored.</p>
<pre><code class="hljs">@Property(type = PropertyType.RADIO_CHOICE, displayName = &quot;Withdrawal limit&quot;, required = true)
@Help(displayHelpShort = &quot;The maximum daily withdrawal amount &quot;,
    displayHelpLong = &quot;Choose the maximum daily amount that can be withdrawn from the account.&quot;)
@PropertyItems({ LIMIT_LOW_LABEL, LIMIT_LOW_VALUE, LIMIT_MEDIUM_LABEL, LIMIT_MEDIUM_VALUE,
    LIMIT_HIGH_LABEL, LIMIT_HIGH_VALUE })
private String withdrawalLimit;
</code></pre>
<p><img src="/open-source/docs/assets/bpmn/designer.property.radio.choice.png" alt="designer.property.radio.choice"></p>
<p><img src="/open-source/docs/assets/bpmn/designer.property.radio.choice.invalid.png" alt="designer.property.radio.choice.invalid"></p>
<h5><a class="anchor" aria-hidden="true" id="propertytypecombobox_choice"></a><a href="#propertytypecombobox_choice" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PropertyType.COMBOBOX_CHOICE</h5>
<p>Creates a combobox with fixed options as shown below. Can be a required field and shows validation messages as a tooltip. Validation failures are displayed by changing the background of the combobox to a light red color.</p>
<p>This property type expects the class member you have annotated to also have an accompanying @PropertyItems annotation (for an example, see below). Using this additional annotation, you can specify the list of items that should be offered in an array of Strings. Specify the items by adding two array entries for each item: first, the label to be shown; second, the value to be stored.</p>
<pre><code class="hljs">@Property(type = PropertyType.COMBOBOX_CHOICE, displayName = &quot;Account type&quot;, required = true)
@Help(displayHelpShort = &quot;The type of account&quot;,
    displayHelpLong = &quot;Choose a type of account from the list of options&quot;)
@PropertyItems({ ACCOUNT_TYPE_SAVINGS_LABEL, ACCOUNT_TYPE_SAVINGS_VALUE, ACCOUNT_TYPE_JUNIOR_LABEL,
    ACCOUNT_TYPE_JUNIOR_VALUE, ACCOUNT_TYPE_JOINT_LABEL, ACCOUNT_TYPE_JOINT_VALUE,
    ACCOUNT_TYPE_TRANSACTIONAL_LABEL, ACCOUNT_TYPE_TRANSACTIONAL_VALUE, ACCOUNT_TYPE_STUDENT_LABEL,
    ACCOUNT_TYPE_STUDENT_VALUE, ACCOUNT_TYPE_SENIOR_LABEL, ACCOUNT_TYPE_SENIOR_VALUE })
private String accountType;
</code></pre>
<p><img src="/open-source/docs/assets/bpmn/designer.property.combobox.choice.png" alt="designer.property.combobox.choice"></p>
<p><img src="/open-source/docs/assets/bpmn/designer.property.combobox.choice.invalid.png" alt="designer.property.combobox.choice.invalid"></p>
<h5><a class="anchor" aria-hidden="true" id="propertytypedate_picker"></a><a href="#propertytypedate_picker" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PropertyType.DATE_PICKER</h5>
<p>Creates a date selection control as shown below. Can be a required field and shows validation messages as a tooltip (note, that the control used will auto-set the selection to the date on the system, so the value is seldom empty). Validation failures are displayed by changing the background of the control to a light red color.</p>
<p>This property type expects the class member you have annotated to also have an accompanying @DatePickerProperty annotation (for an example, see below). Using this additional annotation, you can specify the date time pattern to be used to store dates in the diagram and the type of datepicker you would like to be shown. Both attributes are optional and have default values that will be used if you don’t specify them (these are static variables in the DatePickerProperty annotation). The dateTimePattern attribute should be used to supply a pattern to the SimpleDateFormat class. When using the swtStyle attribute, you should specify an integer value that is supported by SWT's DateTime control, because this is the control that is used to render this type of property.</p>
<pre><code class="hljs">@Property(type = PropertyType.DATE_PICKER, displayName = &quot;Expiry date&quot;, required = true)
@Help(displayHelpShort = &quot;The date the account expires.&quot;,
    displayHelpLong = &quot;Choose the date when the account will expire if not extended before the date.&quot;)
@DatePickerProperty(dateTimePattern = &quot;MM-dd-yyyy&quot;, swtStyle = 32)
private String expiryDate;
</code></pre>
<p><img src="/open-source/docs/assets/bpmn/designer.property.date.picker.png" alt="designer.property.date.picker"></p>
<h5><a class="anchor" aria-hidden="true" id="propertytypedata_grid"></a><a href="#propertytypedata_grid" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PropertyType.DATA_GRID</h5>
<p>Creates a data grid control as shown below. A data grid can be used to allow the user to enter an arbitrary amount of rows of data and enter values for a fixed set of columns in each of those rows (each individual combination of row and column is referred to as a cell). Rows can be added and removed as the user sees fit.</p>
<p>This property type expects the class member you have annotated to also have an accompanying @DataGridProperty annotation (for an example, see below). Using this additional annotation, you can specify some specific attributes of the data grid. You are required to reference a different class to determine which columns go into the grid with the itemClass attribute. Flowable Designer expects the member type to be a List. By convention, you can use the class of the itemClass attribute as its generic type. If, for example, you have a grocery list that you edit in the grid, you would define the columns of the grid in the GroceryListItem class. From your CustomServiceTask, you would refer to it like this:</p>
<pre><code class="hljs">@Property(type = PropertyType.DATA_GRID, displayName = &quot;Grocery List&quot;)
@DataGridProperty(itemClass = GroceryListItem.class)
private List&lt;GroceryListItem&gt; groceryList;
</code></pre>
<p>The &quot;itemClass&quot; class uses the same annotations you would otherwise use to specify fields of a CustomServiceTask (with the exception of a data grid). Specifically, TEXT, MULTILINE_TEXT and PERIOD are currently supported. You’ll notice the grid will create single line text controls for each field, regardless of the PropertyType. This is done on purpose to keep the grid graphically appealing and readable. If you consider the regular display mode for a PERIOD PropertyType for instance, you can imagine it would never properly fit in a grid cell without cluttering the screen. For MULTILINE_TEXT and PERIOD, a double-click mechanism is added to each field which pops up a larger editor for the PropertyType. The value is stored to the field after the user clicks OK and is therefore readable within the grid.</p>
<p>Required attributes are handled in a similar manner to regular fields of type TEXT and the entire grid is validated as soon as any field loses focus. The background color of the text control in a specific cell of the data grid is changed to light red if there are validation failures.</p>
<p>By default, the component allows the user to add rows, but not to determine the order of those rows. If you wish to allow this, you should set the orderable attribute to true, which enables buttons at the end of each row to move it up or down in the grid.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>At the moment, this property type is not correctly injected into your runtime class.</p>
</blockquote>
<p><img src="/open-source/docs/assets/bpmn/designer.property.datagrid.png" alt="designer.property.datagrid"></p>
<h4><a class="anchor" aria-hidden="true" id="disabling-default-shapes-in-the-palette"></a><a href="#disabling-default-shapes-in-the-palette" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Disabling default shapes in the palette</h4>
<p>This customization requires you to include a class in your extension that implements the DefaultPaletteCustomizer interface. You should not implement this interface directly, but subclass the AbstractDefaultPaletteCustomizer base class. Currently, this class provides no functionality, but future versions of the DefaultPaletteCustomizer interface will offer more capabilities for which this base class will provide some sensible defaults, so it’s best to subclass it to be sure your extension will be compatible with future releases.</p>
<p>Extending the AbstractDefaultPaletteCustomizer class requires you to implement one method, disablePaletteEntries(), from which you must return a list of PaletteEntry values. For each of the default shapes, you can disable it by adding its corresponding PaletteEntry value to your list. Note that if you remove shapes from the default set and there are no remaining shapes in a particular drawer, that drawer will be removed from the palette in its entirety. If you wish to disable all of the default shapes, you only need to add PaletteEntry.ALL to your result. As an example, the code below disables the Manual task and Script task shapes in the palette.</p>
<pre><code class="hljs">public class MyPaletteCustomizer extends AbstractDefaultPaletteCustomizer {

  @Override
  public List&lt;PaletteEntry&gt; disablePaletteEntries() {
    List&lt;PaletteEntry&gt; result = new ArrayList&lt;PaletteEntry&gt;();
    result.add(PaletteEntry.MANUAL_TASK);
    result.add(PaletteEntry.SCRIPT_TASK);
    return result;
  }

}
</code></pre>
<p>The result of applying this extension is shown in the image below. As you can see, the manual task and script task shapes are no longer available in the Tasks drawer.</p>
<p><img src="/open-source/docs/assets/bpmn/designer.palette.disable.manual.and.script.png" alt="designer.palette.disable.manual.and.script"></p>
<p>To disable all of the default shapes, you could use something similar to the code below.</p>
<pre><code class="hljs">public class MyPaletteCustomizer extends AbstractDefaultPaletteCustomizer {

  @Override
  public List&lt;PaletteEntry&gt; disablePaletteEntries() {
    List&lt;PaletteEntry&gt; result = new ArrayList&lt;PaletteEntry&gt;();
    result.add(PaletteEntry.ALL);
    return result;
  }

}
</code></pre>
<p>The result will look like this (notice that the drawers the default shapes were in are no longer in the palette):</p>
<p><img src="/open-source/docs/assets/bpmn/designer.palette.disable.all.png" alt="designer.palette.disable.all"></p>
<h3><a class="anchor" aria-hidden="true" id="validating-diagrams-and-exporting-to-custom-output-formats"></a><a href="#validating-diagrams-and-exporting-to-custom-output-formats" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Validating diagrams and exporting to custom output formats</h3>
<p>Besides customizing the palette, you can also create extensions to Flowable Designer that can perform validations and save information from the diagram to custom resources in the Eclipse workspace. There are built-in extension points for doing this and this section explains how to use them.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>The ExportMarshaller functions were reintroduced recently. We are still working on the validation functionality. The documentation below details the old behavior and will be updated when the new functionality is available.</p>
</blockquote>
<p>Flowable Designer allows you to write extensions that validate diagrams. There are already validations of BPMN constructs in the tool by default, but you can add your own if you want to validate additional items, such as modeling conventions or the values in properties of CustomServiceTasks. These extensions are known as Process Validators.</p>
<p>You can also customize Flowable Designer to publish to additional formats when saving diagrams. These extensions are called Export Marshallers and are invoked automatically by Flowable Designer on each save action by the user. This behavior can be enabled or disabled by setting a preference in Eclipse’s preferences dialog for each format for which there is an extension detected. Designer will make sure your ExportMarshaller is invoked when saving the diagram, depending on the user’s preference.</p>
<p>Often, you will want to combine a ProcessValidator and an ExportMarshaller. Let’s say you have a number of CustomServiceTasks in use that have properties you would like to use in the process that gets generated. However, before the process is generated, you want to validate some of those values first. Combining a ProcessValidator and ExportMarshaller is the best way to accomplish this and Flowable Designer enables you to plug your extensions into the tool seamlessly.</p>
<p>To create a ProcessValidator or an ExportMarshaller, you need to create a different kind of extension than for extending the palette. The reason for this is simple: from your code you will need access to more APIs than those that are offered by the integration library. In particular, you will need classes that are available in Eclipse itself. So to get started, you should create an Eclipse plugin (which you can do by using Eclipse’s PDE support) and package it in a custom Eclipse product or feature. It’s beyond the scope of this user guide to explain all the details involved in developing Eclipse plugins, so the instructions below are limited to the functionality for extending Flowable Designer.</p>
<p>Your bundle should be dependent on the following libraries:</p>
<ul>
<li><p>org.eclipse.core.runtime</p></li>
<li><p>org.eclipse.core.resources</p></li>
<li><p>org.flowable.designer.eclipse</p></li>
<li><p>org.flowable.designer.libs</p></li>
<li><p>org.flowable.designer.util</p></li>
</ul>
<p>Optionally, the org.apache.commons.lang bundle is available through Designer if you’d like to use that in your extension.</p>
<p>Both ProcessValidators and ExportMarshallers are created by extending a base class. These base classes inherit some useful methods from their superclass, the AbstractDiagramWorker class. Using these methods you can create information, warning and error markers that show up in Eclipse’s problems view for the user to figure out what’s wrong or important. You can get to information about the diagram in the form of Resources and InputStreams. This information is provided from the DiagramWorkerContext, which is available from the AbstractDiagramWorker class.</p>
<p>It’s probably a good idea to invoke clearMarkers() as one of the first things you do in either a ProcessValidator or an ExportMarshaller; this will clear any previous markers for your worker (markers are automatically linked to the worker and clearing markers for one worker leaves other markers untouched). For example:</p>
<pre><code class="hljs">// Clear markers for this diagram first
clearMarkersForDiagram();
</code></pre>
<p>You should also use the progress monitor provided (in the DiagramWorkerContext) to report your progress back to the user, because validations and marshalling actions can take up some time during which the user is forced to wait. Reporting progress requires some knowledge of how you should use Eclipse’s features. Take a look at <a href="http://www.eclipse.org/articles/Article-Progress-Monitors/article.html">this article</a> for a thorough explanation of the concepts and usage.</p>
<h4><a class="anchor" aria-hidden="true" id="creating-a-processvalidator-extension"></a><a href="#creating-a-processvalidator-extension" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating a ProcessValidator extension</h4>
<p>Create an extension to the org.flowable.designer.eclipse.extension.validation.ProcessValidator extension point in your plugin.xml file. For this extension point, you are required to subclass the AbstractProcessValidator class.</p>
<pre><code class="hljs">&lt;?eclipse version=&quot;3.6&quot;?&gt;
&lt;plugin&gt;
  &lt;extension
    point=&quot;org.flowable.designer.eclipse.extension.validation.ProcessValidator&quot;&gt;
    &lt;ProcessValidator
      class=&quot;org.acme.validation.AcmeProcessValidator&quot;&gt;
    &lt;/ProcessValidator&gt;
  &lt;/extension&gt;
&lt;/plugin&gt;

public class AcmeProcessValidator extends AbstractProcessValidator {
}
</code></pre>
<p>You have to implement a number of methods. Most importantly, implement getValidatorId() so you return a globally unique ID for your validator. This will enable you to invoke it from an ExportMarshaller, or even let someone <em>else</em> invoke your validator from their ExportMarshaller. Implement getValidatorName() and return a logical name for your validator. This name is shown to the user in dialogs. In getFormatName(), you can return the type of diagram the validator typically validates.</p>
<p>The validation work itself is done in the validateDiagram() method. From this point on, it’s up to your specific functionality as to what you code here. Typically, however, you will want to start by getting hold of the nodes in the diagram’s process, so you can iterate through them, collect, compare and validate data. This snippet shows you how to do this:</p>
<pre><code class="hljs">final EList&lt;EObject&gt; contents = getResourceForDiagram(diagram).getContents();
for (final EObject object : contents) {
  if (object instanceof StartEvent ) {
  // Perform some validations for StartEvents
  }
  // Other node types and validations
}
</code></pre>
<p>Don’t forget to invoke addProblemToDiagram() and/or addWarningToDiagram(), and so on as you go through your validations. Make sure you return a correct boolean result at the end to indicate whether you consider the validation as having succeeded or failed. This can be used by invoking ExportMarshaller to determine the next course of action.</p>
<h4><a class="anchor" aria-hidden="true" id="creating-an-exportmarshaller-extension"></a><a href="#creating-an-exportmarshaller-extension" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating an ExportMarshaller extension</h4>
<p>Create an extension to the org.flowable.designer.eclipse.extension.ExportMarshaller extension point in your plugin.xml file. For this extension point, you are required to subclass the AbstractExportMarshaller class. This abstract base class provides you with a number of useful methods when marshalling to your own format, but most importantly, it allows you to save resources to the workspace and to invoke validators.</p>
<p>An example implementation is available in Designer’s examples folder. This example shows how to use the methods in the base class to get the basics done, such as accessing the diagram’s InputStream, using its BpmnModel and saving resources to the workspace.</p>
<pre><code class="hljs">&lt;?eclipse version=&quot;3.6&quot;?&gt;
&lt;plugin&gt;
  &lt;extension
    point=&quot;org.flowable.designer.eclipse.extension.ExportMarshaller&quot;&gt;
    &lt;ExportMarshaller
      class=&quot;org.acme.export.AcmeExportMarshaller&quot;&gt;
    &lt;/ExportMarshaller&gt;
  &lt;/extension&gt;
  &lt;/plugin&gt;

public class AcmeExportMarshaller extends AbstractExportMarshaller {
}
</code></pre>
<p>You are required to implement some methods, such as getMarshallerName() and getFormatName(). These methods are used to display options to the user and to show information in progress dialogs, so make sure the descriptions you return reflect the functionality you are implementing.</p>
<p>The bulk of your work is performed in the doMarshallDiagram() method.</p>
<p>If you want to perform a certain validation first, you can invoke the validator directly from your marshaller. You receive a boolean result from the validator, so you know whether validation succeeded. In most cases you won’t want to proceed with marshalling the diagram if it’s not valid, but you might choose to go ahead anyway or even create a different resource if validation fails.</p>
<p>Once you have all the data you need, you should invoke the saveResource() method to create a file containing your data. You can invoke saveResource() as many times as you wish from a single ExportMarshaller; a marshaller can therefore be used to create more than one output file.</p>
<p>You can construct a filename for your output resource(s) by using the saveResource() method in the AbstractDiagramWorker class. There are a couple of useful variables you can have substituted, allowing you to create filenames such as _original-filename__my-format-name.xml. These variables are described in the Javadocs and defined by the ExportMarshaller interface. You can also use resolvePlaceholders() on a string (for example, a path) if you want to substitute the placeholders yourself. getURIRelativeToDiagram() will invoke this for you.</p>
<p>You should use the progress monitor provided to report your progress back to the user. How to do this is described in <a href="http://www.eclipse.org/articles/Article-Progress-Monitors/article.html">this article</a>.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/open-source/docs/bpmn/ch12-IDM"><span class="arrow-prev">← </span><span>Identity management</span></a><a class="docs-next button" href="/open-source/docs/bpmn/ch14-Applications"><span>Flowable applications</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#installation">Installation</a></li><li><a href="#flowable-designer-editor-features">Flowable Designer editor features</a></li><li><a href="#flowable-designer-bpmn-features">Flowable Designer BPMN features</a></li><li><a href="#flowable-designer-deployment-features">Flowable Designer deployment features</a></li><li><a href="#extending-flowable-designer">Extending Flowable Designer</a><ul class="toc-headings"><li><a href="#customizing-the-palette">Customizing the palette</a></li><li><a href="#validating-diagrams-and-exporting-to-custom-output-formats">Validating diagrams and exporting to custom output formats</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/open-source/docs/" class="nav-home"><img src="/open-source/docs/img/flowable-oss-icon@2.png" alt="Flowable Open Source Documentation"/></a><div><h5>Documentation</h5><a href="/open-source/docs/oss-introduction">Guides</a><a href="/open-source/docs/javadocs">Javadocs</a></div><div><h5>Legal</h5><a href="/open-source/docs/disclaimer">Disclaimer</a><a href="https://flowable.com/disclaimer/">Policies</a></div></section><section class="copyright">Copyright © 2020 Flowable AG</section></footer></div></body></html>